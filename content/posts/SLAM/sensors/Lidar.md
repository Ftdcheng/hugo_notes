---
title: "激光雷达"
date: 2025-04-22
author: "Citrus Cheng"
tags: ["sensors"]
---

# 激光雷达
## 参数
### 物体反射率（Object Reflectivity）
激光雷达（LiDAR）测得的 Object Reflectivity（物体反射率）是指激光雷达发射的激光脉冲被物体表面反射回来时，反射光的强度与激光原始信号强度的比值。具体来说，它代表了物体表面对激光光线的反射能力，通常用一个值来量化，反映了物体表面材料、颜色、纹理等特性的反射效果。

+ 0 表示完全不反射（即完全吸收激光），例如黑色、吸光性强的物体。
+ 1 表示完全反射（即反射所有的激光），例如镜面光滑的金属表面。

反射率与物体的以下特性密切相关：
+ 材料类型：不同材料的表面有不同的反射能力。例如，金属表面通常会有较高的反射率，而木材或泥土表面的反射率则较低。
+ 表面光滑度：光滑的表面（如镜面）会比粗糙的表面（如沙石或混凝土）反射更多的激光光线。
+ 颜色和光吸收性：浅色物体（如白色或银色）通常具有更高的反射率，而深色物体（如黑色）则吸收更多光线，反射率较低。
+ 角度依赖性：反射率也会受到激光入射角度的影响。表面越平整，反射越规律，而粗糙表面可能会发生散射，导致反射率在不同角度下有差异。

激光雷达反射率的应用
+ 物体分类：通过分析反射率，可以区分不同的物体类型。例如，金属表面与树木或建筑物之间的反射率差异可以帮助识别这些物体。
+ 环境建模：反射率数据有助于更准确地构建环境模型，尤其在自动驾驶、机器人导航等应用中，可以结合反射率与其他数据（如距离、速度等）来提高识别精度。
+ 地形分析：反射率可以用于分析地面类型和地形特征，例如判断是否为水域、森林、沙漠等。

### 深度（Depth）
激光雷达测得点 $P(x, y, z)$ 到激光雷达的距离：
$$
D(P) = \sqrt{x^2 + y^2 + z^2}
$$

### 偏转角（Deflection Angle）
激光和 $X$ 轴的夹角：
$$
\phi (P) = tan^{-1}(\sqrt{(y^2 + z ^ 2) / x ^ 2})
$$

### 强度（Intensity）
$$
I(P) = R / D(P^2)
$$

其中 $R$ 代表物体反射率，这个数据可以通过激光雷达直接测得。有一些雷达直接返回强度而不是物体反射率。强度大以为者物体的反射率大或者物体离激光雷达近。

### 入射角（Incident Angle）
![入射角](imgs/incident_angle.png)

激光打到平面上的入射角。如图中的 $\theta$
$$
\theta (P_b) = cos^{-1}\left(\frac{(P_a - P_c) \cdot P_b}{|P_a - P_c||P_b|}\right)
$$

## 机械旋转雷达
机械雷达把可以水平旋转的激光器在垂直方向层叠起来，可以测量水平和垂直方向的点。

## 固态雷达

### 优点
便宜，轻巧

### 缺点
FoV小，扫描的路径特殊，得到的点相对于旋转雷达少

### 处理技巧
1. FoV边缘附近和超出Fov的点丢掉，在这些区域扫描轨迹有很大的曲率，让特征提取变得不可靠
2. 强度过低或者过高的点丢掉（对于MID40, $I(P) \le 7 \times 10 ^ {-3}$ 或者 $I(P) \ge 1 \times 10 ^ {-1}$ 的点不要）。强度直接表示雷达接收到的信号。如果强度过大，会导致接收电路的饱和或者畸变。强度过小导致小的信噪比，会导致测距精度退化。
3. 入射角接近0或者 $\pi$ 的点不要（对于MID40，$\theta(P) \le 5 \degree$ 或者 $\theta(P) \ge 175 \degree$ ）。比如图(a)中的f点。这是因为激光束的非零发散角导致的激光斑点会显著拉长。因此，测量的距离是由大斑点覆盖区域的平均值，而不是一个特定的点。
4. 藏在物体背后的点（比如图（a）中的e，藏在d的后面）。这种点会导致识别到错误的边缘特征。通过以下的判断标准判断是否是这种隐藏点：

$$
|P_e - P_d| \ge 0.1 |P_e| \space and \space |P_e| \gt |P_d|
$$ 

其中，d点是按照扫描顺序离e最近的点。

5. 在特征提取时考虑反射率，反射率突然变化的点视为边缘特征。反射率突然发生变化意味着材质的变化。这种特征在墙上有个窗或者门的时候有用。

## 普遍的问题
### 运动畸变（Motion Distortion）或者运动模糊（Motion Blur）
如果激光雷达本身在旋转但是没有移动的话是不存在畸变的，如果激光雷达在旋转的同时本身发生了移动，这个时候激光雷达测得的点云就会产生运动畸变。不过当旋转的速度很快，激光雷达本身的移动不快，那么运动畸变就可以忽略不计。