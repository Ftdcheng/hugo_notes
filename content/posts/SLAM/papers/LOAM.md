---
title: "LOAM"
date: 2025-04-22
author: "Citrus Cheng"
tags: ["papers"]
---

# LOAM

## 点云获取
LOAM使用的LiDAR是`VLP-16`，这是一种16线的激光雷达。

* 线数：16
* 水平分辨率：0.1° ~ 0.4°（这是因为旋转的速度可调，导致水平分辨率的变化）
* 旋转频率：5 ~ 20Hz
* 水平FoV：360°
* 垂直分辨率：2°
* 垂直FoV：-15° ~ +15° (30°的范围)
* 最大测量距离：100m
* 距离测量精度：±3cm

值得注意的是这个雷达的激光垂直角度与线数的对应并不是数字0-15从下往上依次对应，而是采用一种交错的方式，比如-15°对应线0，1°对应线1，-13°对应线2，...，15°对应线15。

这样安排的原因是为了防止两束激光挨得太近会产生干涉。

## IMU工作分析

1. IMU消息收到 -> IMUHandler
2. 更新角度差，去除重力加速度的xyz线速度，imu接收时间
3. 将线速度旋转角度差这么多到世界坐标系，这说明角度差是现在IMU的姿态相对于世界坐标系的
4. 得到世界坐标系内的加速度后计算新的位移，位移从0开始累加，使用的是$s_t = s_{t-1} + v_{t-1} * \Delta t + \frac{1}{2} * \mathbb{a} (\Delta t)^2$
5. 计算新的速度：$v_t = v_{t-1} + a * \Delta t $
6. 激光雷达接收到点时使用IMU的数据，计算当前点对应的IMU数据（估计）
7. 使用当前点的IMU数据计算加速运动产生的位移
8. 使用当前点的IMU数据计算加速运动产生的速度
9. 当前点使用角度进行旋转再加上无畸变的位移得到点的真正位置
10. 发布当前点云第一个点的IMU信息，发布当前点的IMU信息，包括畸变的位移和速度。

## 实验

### 配置

* CPU: 2.5GHz 4核
* 内存: 6G
* 传感器: VLP-16 ([loam_velodyne](https://wiki.ros.org/loam_velodyne))

### 实验方法
为了验证局部地图的准确性，LOAM在一些固定的点安装雷达进行感知，这时雷达是静止的，利用这些在静止状态采集的点云进行ICP配准，得到环境的准确地图。
利用准确的地图点云和LOAM得到的点云之间的平面特征之间的距离作差得到误差。结果是误差是均值为0的正态分布，误差范围大概在20cm内。